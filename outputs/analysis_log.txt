Step 1: Loading data from './outputs/sample.csv'...
âœ… Data loaded and prepared.

Step 2: Filtering data to the last 2 years based on the file's date range...
âœ… Data filtered. Using records from 2023-09-23 to 2025-09-22.

Step 3: Identifying pages with >20% outliers to exclude...
âœ… Found 0 pages to mark as 'Unused'.
âœ… Proceeding with 100 usable pages.

Step 4: Performing 10 shuffles to find the best Test/Control split...
  Shuffle 1/10: Similarity (Pearson correlation) = 0.9015
  Shuffle 2/10: Similarity (Pearson correlation) = 0.9110
  Shuffle 3/10: Similarity (Pearson correlation) = 0.9087
  Shuffle 4/10: Similarity (Pearson correlation) = 0.8975
  Shuffle 5/10: Similarity (Pearson correlation) = 0.9001
  Shuffle 6/10: Similarity (Pearson correlation) = 0.9045
  Shuffle 7/10: Similarity (Pearson correlation) = 0.8944
  Shuffle 8/10: Similarity (Pearson correlation) = 0.8981
  Shuffle 9/10: Similarity (Pearson correlation) = 0.8973
  Shuffle 10/10: Similarity (Pearson correlation) = 0.9034
âœ… Found best split with a correlation of 0.9110.

Step 5: Generating final outputs for the top-ranked split...
--- OUTPUT 1: Split Quality Assessment ---
ðŸ“Š Correlation Score: 0.9110
   Assessment: Good. The groups are well-correlated.

ðŸ“ˆ Minimum Detectable Effect (MDE):
   With 80% power and 95% confidence, you would need to see a lift of at least 2.51% to declare a statistically significant result.
   (This corresponds to an average daily click change of ~442 clicks.)

âœ… Final Verdict: The experimental setup is viable.
------------------------------------------

--- OUTPUT 2: Assignment Table ---
                           URL    Group
0    https://example.com/page0  Control
1    https://example.com/page1     Test
2   https://example.com/page10  Control
3   https://example.com/page11     Test
4   https://example.com/page12  Control
5   https://example.com/page13     Test
6   https://example.com/page14  Control
7   https://example.com/page15  Control
8   https://example.com/page16     Test
9   https://example.com/page17  Control
10  https://example.com/page18     Test
11  https://example.com/page19     Test
12   https://example.com/page2     Test
13  https://example.com/page20  Control
14  https://example.com/page21     Test
15  https://example.com/page22     Test
16  https://example.com/page23     Test
17  https://example.com/page24     Test
18  https://example.com/page25  Control
19  https://example.com/page26  Control
20  https://example.com/page27  Control
21  https://example.com/page28     Test
22  https://example.com/page29     Test
23   https://example.com/page3  Control
24  https://example.com/page30     Test
25  https://example.com/page31     Test
26  https://example.com/page32     Test
27  https://example.com/page33  Control
28  https://example.com/page34     Test
29  https://example.com/page35     Test
30  https://example.com/page36     Test
31  https://example.com/page37  Control
32  https://example.com/page38     Test
33  https://example.com/page39  Control
34   https://example.com/page4     Test
35  https://example.com/page40  Control
36  https://example.com/page41     Test
37  https://example.com/page42  Control
38  https://example.com/page43  Control
39  https://example.com/page44     Test
40  https://example.com/page45  Control
41  https://example.com/page46  Control
42  https://example.com/page47  Control
43  https://example.com/page48     Test
44  https://example.com/page49     Test
45   https://example.com/page5     Test
46  https://example.com/page50  Control
47  https://example.com/page51     Test
48  https://example.com/page52  Control
49  https://example.com/page53     Test
50  https://example.com/page54     Test
51  https://example.com/page55     Test
52  https://example.com/page56  Control
53  https://example.com/page57     Test
54  https://example.com/page58  Control
55  https://example.com/page59     Test
56   https://example.com/page6  Control
57  https://example.com/page60     Test
58  https://example.com/page61  Control
59  https://example.com/page62     Test
60  https://example.com/page63  Control
61  https://example.com/page64  Control
62  https://example.com/page65  Control
63  https://example.com/page66  Control
64  https://example.com/page67     Test
65  https://example.com/page68  Control
66  https://example.com/page69  Control
67   https://example.com/page7  Control
68  https://example.com/page70     Test
69  https://example.com/page71     Test
70  https://example.com/page72     Test
71  https://example.com/page73     Test
72  https://example.com/page74     Test
73  https://example.com/page75     Test
74  https://example.com/page76     Test
75  https://example.com/page77     Test
76  https://example.com/page78  Control
77  https://example.com/page79  Control
78   https://example.com/page8  Control
79  https://example.com/page80  Control
80  https://example.com/page81  Control
81  https://example.com/page82  Control
82  https://example.com/page83  Control
83  https://example.com/page84  Control
84  https://example.com/page85  Control
85  https://example.com/page86  Control
86  https://example.com/page87  Control
87  https://example.com/page88  Control
88  https://example.com/page89     Test
89   https://example.com/page9  Control
90  https://example.com/page90     Test
91  https://example.com/page91  Control
92  https://example.com/page92     Test
93  https://example.com/page93  Control
94  https://example.com/page94     Test
95  https://example.com/page95     Test
96  https://example.com/page96  Control
97  https://example.com/page97  Control
98  https://example.com/page98     Test
99  https://example.com/page99     Test
------------------------------------

âœ… Assignment table saved to './outputs/assignments.csv'.
